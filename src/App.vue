<template>
  <div id="app">
    <!-- Si accÃ¨s autorisÃ©, on affiche le vrai site -->
    <template v-if="accessGranted">
      <!-- Pop-up vÃ©rification d'Ã¢ge -->
      <AgePopup />

      <!-- Header affichÃ© sur toutes les pages -->
      <HeaderComponent />

      <!-- BanniÃ¨re promo sous le header -->
      <PromoBanner />

      <!-- Contenu des pages -->
      <router-view />

      <!-- Footer affichÃ© sur toutes les pages -->
      <FooterComponent />

      <!-- Bandeau RGPD cookie -->
      <CookieConsent />
    </template>

    <!-- Sinon, on affiche la page "site en construction" avec mot de passe -->
    <UnderConstruction v-else @authenticated="accessGranted = true" />
  </div>
</template>

<script>
import HeaderComponent from '@/components/HeaderComponent.vue';
import FooterComponent from '@/components/FooterComponent.vue';
import AgePopup from '@/components/AgePopup.vue';
import CookieConsent from '@/components/CookieConsent.vue';
import UnderConstruction from '@/components/UnderConstruction.vue';
import PromoBanner from '@/components/PromoBanner.vue'; // ðŸ‘ˆ Ajout du composant promo

export default {
  name: 'App',
  components: {
    HeaderComponent,
    FooterComponent,
    AgePopup,
    CookieConsent,
    UnderConstruction,
    PromoBanner // ðŸ‘ˆ DÃ©claration ici aussi
  },
  data() {
    return {
      accessGranted: false
    };
  }
};
</script>

<style>
/* Ã‰vite le dÃ©bordement horizontal */
* {
  box-sizing: border-box;
}

html, body {
  overflow-x: hidden;
  max-width: 100vw;
}
</style>
